<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets">
<h:head>
    <title>R√©sultats</title>
    <h:outputStylesheet library="css" name="style.css" />
        <style>
        /* --- LE CONTENEUR HERO --- */
.hero-container {
    position: relative;
    height: 350px;
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
}

/* L'image prend toute la place en fond */
.hero-image {
    position: absolute;
    width: 100%;
    height: 100%;
    object-fit: cover; /* L'image s'adapte sans se d√©former */
    z-index: 1;
    filter: brightness(60%); /* On l'assombrit pour lire le texte */
}

/* Le texte par-dessus l'image */
.hero-overlay {
    position: relative;
    z-index: 2;
    color: white;
    text-align: center;
}
        </style>    
</h:head>
<h:body>
        <div class="hero-container">
            <h:graphicImage library="images" name="bali.jpg" styleClass="hero-image" />
            <div class="hero-overlay">
                <h1>üå¥ AGP BALI</h1>
                <p>Trouvez votre coin de paradis</p>
            </div>
        </div>    
    
    <!-- Recherche Complexe -->
    <h2>üîß Recherche complexe</h2>
    <h:panelGroup rendered="#{not empty searchCriteriaBean.budgetMin or not empty searchCriteriaBean.budgetMax}">
        <div class="search-info">
            <strong>Budget :</strong> 
            <h:outputText value="#{searchCriteriaBean.budgetMin}">
                <f:convertNumber type="currency" currencySymbol="‚Ç¨" />
            </h:outputText>
            -
            <h:outputText value="#{searchCriteriaBean.budgetMax}">
                <f:convertNumber type="currency" currencySymbol="‚Ç¨" />
            </h:outputText>
            <br />
            <strong>Dur√©e :</strong> 
            <h:outputText value="#{searchCriteriaBean.nbDays}" />
            jours
            <br />
            <strong>H√¥tel :</strong> 
            <h:outputText value="#{searchCriteriaBean.grade}" />
            √©toiles
            <br />
            <strong>Confort :</strong> 
            <h:outputText value="#{searchCriteriaBean.confort}" />
            / 5
        </div>
    </h:panelGroup>
    
    <!-- Tableau des r√©sultats complexes -->
    <h:panelGroup rendered="#{not empty searchCriteriaBean.complexResults}">
        <h:dataTable value="#{searchCriteriaBean.complexResults}" var="offer"
                     styleClass="results-table"
                     headerClass="table-header"
                     rowClasses="table-row-odd,table-row-even">
            
            <!-- Colonne S√©jour -->
            <h:column>
                <f:facet name="header">Offre de s√©jour</f:facet>
                <h:outputText value="#{offer}" />
            </h:column>
            
            <!-- Vous pouvez ajouter d'autres colonnes selon les attributs de StayOffer -->
            <!-- Exemple :
            <h:column>
                <f:facet name="header">Prix total</f:facet>
                <h:outputText value="#{offer.totalPrice}">
                    <f:convertNumber type="currency" currencySymbol="‚Ç¨" />
                </h:outputText>
            </h:column>
            
            <h:column>
                <f:facet name="header">Score confort</f:facet>
                <h:outputText value="#{offer.scoreComfort}">
                    <f:convertNumber pattern="#0.0" />
                </h:outputText>
            </h:column>
            -->
            
        </h:dataTable>
    </h:panelGroup>
    
    <!-- Message si pas de r√©sultats complexes -->
    <h:panelGroup rendered="#{empty searchCriteriaBean.complexResults and not empty searchCriteriaBean.budgetMin}">
        <div class="no-results">
            ‚ÑπÔ∏è Aucune offre de s√©jour ne correspond √† vos crit√®res.
        </div>
    </h:panelGroup>
    
    <br />
    <h:link value="Retour √† la recherche d'offres" outcome="index.jsf" styleClass="btn-secondary" />
</h:body>
</html>
