<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets">
<h:head>
    <title>R√©sultats</title>
    <h:outputStylesheet library="css" name="style.css" />
            <style>
        /* --- LE CONTENEUR HERO --- */
.hero-container {
    position: relative;
    height: 350px;
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
}

/* L'image prend toute la place en fond */
.hero-image {
    position: absolute;
    width: 100%;
    height: 100%;
    object-fit: cover; /* L'image s'adapte sans se d√©former */
    z-index: 1;
    filter: brightness(60%); /* On l'assombrit pour lire le texte */
}

/* Le texte par-dessus l'image */
.hero-overlay {
    position: relative;
    z-index: 2;
    color: white;
    text-align: center;
}
        </style>
</h:head>
<h:body>

        <div class="hero-container">
            <h:graphicImage library="images" name="bali.jpg" styleClass="hero-image" />
            <div class="hero-overlay">
                <h1>üå¥ AGP BALI</h1>
                <p>Trouvez votre coin de paradis</p>
            </div>
        </div>
    
    <!-- Recherche Simple -->
    <h2>üîç Recherche par mots-cl√©s</h2>
    <h:panelGroup rendered="#{not empty searchCriteriaBean.keywords}">
        <div class="search-info">
            <strong>Mots-cl√©s recherch√©s :</strong> 
            <h:outputText value="#{searchCriteriaBean.keywords}" />
        </div>
    </h:panelGroup>
    
    <!-- Tableau des r√©sultats simples -->
    <h:panelGroup rendered="#{not empty searchCriteriaBean.simpleResults}">
        <h:dataTable value="#{searchCriteriaBean.simpleResults}" var="site"
                     styleClass="results-table"
                     headerClass="table-header"
                     rowClasses="table-row-odd,table-row-even">
      
            <!-- Colonne Nom -->
            <h:column>
                <f:facet name="header">Nom</f:facet>
                <h:outputText value="#{site.name}" />
            </h:column>
            
            <!-- Colonne Prix -->
            <h:column>
                <f:facet name="header">Prix (‚Ç¨)</f:facet>
                <h:outputText value="#{site.price}">
                    <f:convertNumber type="currency" currencySymbol="‚Ç¨" />
                </h:outputText>
            </h:column>
            
            <!-- Colonne Transport -->
            <h:column>
                <f:facet name="header">Transport</f:facet>
                <h:outputText value="#{site.transport}" />
            </h:column>
            
            <!-- Colonne Adresse -->
            <h:column>
                <f:facet name="header">Adresse</f:facet>
                <h:outputText value="#{site.address.street}, #{site.address.postCode} #{site.address.town}" />
            </h:column>
            
            <!-- Colonne Coordonn√©es GPS -->
            <h:column>
                <f:facet name="header">Coordonn√©es</f:facet>
                <h:outputText value="#{site.address.latitude}, #{site.address.longitude}">
                    <f:convertNumber pattern="#0.####" />
                </h:outputText>
            </h:column>
           
            
        </h:dataTable>
    </h:panelGroup>
    
    <!-- Message si pas de r√©sultats -->
    <h:panelGroup rendered="#{empty searchCriteriaBean.simpleResults and not empty searchCriteriaBean.keywords}">
        <div class="no-results">
            ‚ÑπÔ∏è Aucun site touristique ne correspond √† votre recherche.
        </div>
    </h:panelGroup>
    
    <br />
    <h:link value="Retour √† la recherche de sites" outcome="simplesearch.jsf" styleClass="btn-secondary" />
</h:body>
</html>
